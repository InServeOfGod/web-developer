<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta http-equiv="X-UA-Compatible" content="IE=7">
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap.min.css">
    <title>Javascript</title>
</head>
<body>
    <div class="container">
        <!-- appending data into list -->

        <div class="card col-md-6 mx-auto mt-3">
            <div class="card-header p-0">
                <h3 class="card-title p-3 text-center text-white bg-primary">Food</h3>
            </div>
            <div class="card-body p-3">
                <form action="" method="get" name="food-form">
                    <div class="mb-3">
                        <label for="food" class="form-label">Enter Food : </label>
                        <input type="text" name="food" id="food" class="form-control">
                    </div>

                    <div class="mb-3 text-end">
                        <button class="btn btn-sm btn-outline-primary" type="submit">+ Add</button>
                    </div>
                </form>
            </div>
        </div>

        <div class="col-md-6 mx-auto mt-3">
            <ul id="food-list" class="list-group"></ul>
        </div>

        <!-- END appending data into list -->

    </div>

    <script src="../node_modules/bootstrap/dist/js/bootstrap.bundle.js"></script>
    <script type="text/javascript">
        "use strict";
        window.addEventListener('load', () => {
            const foodForm = document.forms.namedItem('food-form')
            const foodList = document.getElementById('food-list')

            foodForm.addEventListener('submit', (event) => {
                event.preventDefault()

                let food = foodForm['food'].value

                if (food !== '') {
                    let foodLi = document.createElement('li')

                    foodLi.textContent = food
                    foodLi.classList.add('list-group-item')
                    foodList.appendChild(foodLi)

                    foodForm['food'].value = ""
                }
            })

            /* END appending data into list */

            /* promises */

            const p = new Promise((resolve, reject) => {
                let cond = false

                if (cond) {
                    resolve('success')
                } else {
                    reject('error')
                }
            })

            p.then((value => {
                console.log("data from promise : ", value)
            })).catch((reason => {
                console.log('failed to get data from promise. Error message : ', reason)
            }))

            // multiple promises

            const promise1 = new Promise((resolve, reject) => {
                setTimeout(() => {
                    resolve('promise 1 is running')
                }, 1000)
            })

            const promise2 = new Promise((resolve, reject) => {
                setTimeout(() => {
                    resolve('promise 2 is running')
                }, 100)
            })

            const promise3 = new Promise((resolve, reject) => {
                setTimeout(() => {
                    resolve('promise 3 is running')
                }, 500)
            })

            Promise.race([
                promise1, promise2, promise3
            ]).then((value => {
                console.log(value)
            }))
        })
    </script>
</body>
</html>
