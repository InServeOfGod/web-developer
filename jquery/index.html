<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta http-equiv="X-UA-Compatible" content="IE=7">
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap.min.css">
    <title>Javascript jquery ajax test</title>
</head>
<body>
    <main class="container-fluid mt-3">
        <div class="container">
            <!-- some useful functions -->
            <p id="paragraph">
                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt
                ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris
                nisi ut aliquip ex ea commodo consequat.
            </p>

            <!-- iterating with each function -->

            <section>
                List Group

                <ul class="list-group" id="list">
                    <li class="list-group-item">An item</li>
                    <li class="list-group-item">A second item</li>
                    <li class="list-group-item">A third item</li>
                    <li class="list-group-item">A fourth item</li>
                    <li class="list-group-item">And a fifth one</li>
                    <li class="list-group-item">
                        <ul class="list-group">
                            <li class="list-group-item">And a sixth one</li>
                        </ul>
                    </li>
                </ul>
            </section>

            <!-- reading & writing values from elements -->

            <section class="card mt-3">
                <form action="" method="post" id="firstForm">
                    <div class="card-body">
                        <div class="mb-3">
                            <label class="form-label" for="username">
                                Enter Username :
                                <input type="text" name="username" id="username" class="form-control" accept="text/plain" maxlength="32" required>
                                <small class="text-danger"></small>
                                <small class="text-success"></small>
                            </label>
                        </div>
                    </div>

                    <div class="card-footer">
                        <div class="mb-3">
                            <button class="btn btn-sm btn-primary" type="submit">Submit</button>
                        </div>
                    </div>
                </form>
            </section>

            <!-- adding & inserting elements -->

            <section class="mt-3 table-responsive-md">
                <table class="table table-hover">
                    <tr>
                        <th>Id</th>
                        <th>Username</th>
                        <th>Password</th>
                    </tr>

                    <tr>
                        <td>1</td>
                        <td>David123</td>
                        <td>*****</td>
                    </tr>
                </table>
            </section>

            <!-- removing elements -->

            <section>
                <button class="btn btn-danger" id="removeBtn">remove me</button>
            </section>

            <!-- modify the attributes -->

            <section>
                <a target="_blank" id="google">Go to Google</a>
            </section>

            <!-- clone the elements -->

            <section>
                <img src="https://cdn.britannica.com/39/6839-050-27891400/Brandenburg-Gate-Berlin.jpg" alt="" class="img-thumbnail rounded-circle cloneImg" width="500px" height="1500px">
                <button class="btn btn-primary" id="cloneBtn">clone it</button>
            </section>

            <!-- filtering elements : eq, filter, has, not -->

            <section id="filters">
                <a href="https://facebook.com" class="link-primary">Facebook</a>
                <a href="https://facebook.com" class="link-primary">MSN</a>
                <a href="https://instagram.com" class="link-warning">Instagram</a>
                <a href="https://twitter.com" class="link-info">Twitter</a>
            </section>

            <!-- data API -->

            <section>
                <span data-span="error">ERROR</span>
                <span data-span="warning">Warning</span>
                <span data-span="info">info</span>
            </section>

            <section class="container my-3">
                <form action="" method="post" class="card" id="secondForm">
                    <div class="card-body">
                        <div class="mb-3">
                            <label for="email" class="form-label">Email:</label>
                            <input type="email" name="email" id="email" class="form-control">
                        </div>

                        <div class="mb-3">
                            <label for="password" class="form-label">Password</label>
                            <input type="password" name="password" id="password" class="form-control">
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Gender:
                                <input type="radio" name="gender" class="form-check-input" value="male">Male
                                <input type="radio" name="gender" class="form-check-input" value="female">Female
                            </label>
                        </div>
                    </div>

                    <div class="card-footer">
                        <div class="mb-3">
                            <button class="btn btn-sm btn-success" type="submit">Submit</button>
                        </div>
                    </div>
                </form>
            </section>
        </div>
    </main>

    <script src="../node_modules/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../node_modules/@popperjs/core/dist/umd/popper.min.js"></script>
    <script src="../node_modules/jquery/dist/jquery.min.js"></script>
    <script type="text/javascript">
        "use strict"

        $(document).ready(function () {
            /*
            * some useful functions
            * */

            $('#paragraph').hide(0).addClass('text-secondary').fadeIn(1000)
            // $('#list').find('li').addClass('text-danger')
            // $('#list').children('li').addClass('text-danger')
            // $('#list').parent().addClass('text-danger')
            $('#list li:first-child').next().addClass('active')
            // $('#list li:last-child').prev().addClass('text-danger')
            // $('#list li').siblings().addClass('text-danger')
            // $('#list li').first().addClass('text-danger')
            // $('#list li').last().addClass('text-danger')
            // alert($('#form').text())
            // alert($('#form').html())
            // alert($('#form').val())

            /*
            * reading & writing values from elements
            * */

            $('#firstForm').on('submit', (element) => {
                element.preventDefault()

                if ($('#username').val() === 'David123') {
                    $('#firstForm small.text-danger').text('')
                    $('#firstForm small.text-success').text("Welcome")
                } else {
                    $('#firstForm small.text-success').text('')
                    $('#firstForm small.text-danger').text("Invalid username")
                }
            })

            /*
            * adding & inserting elements
            * */

            // const cols = $('table th').length
            $('table').append('<tr><td>2</td><td>InServeOfGod</td><td>*****</td></tr>')
            // append, prepend, after, before

            /*
            * removing elements
            * */

            $('#removeBtn').on('click', () => {
                $('#removeBtn').remove()
            })

            /*
            * modify the attributes
            * attr, prop
            * */

            const google = $('#google')
            google.attr('href', "https://www.google.com").removeAttr('target')

            if (!google.hasClass('link-danger')) {
                google.addClass('link-danger')
            }

            /*
            * clone the elements
            * */

            $('#cloneBtn').click(() => {
                $('.cloneImg').clone().insertAfter('.cloneImg')
            })

            /*
            * iterating with each function
            * */

            $('#list li').each((index, value) => {
                $(value).addClass('text-black')
            })

            /*
            * filtering elements : eq, filter, has, not
            * */

            // $('#filters a').eq(2).removeClass('link-info').addClass('link-danger')
            // $('#filters a').filter('.link-primary').removeClass('link-primary').addClass('link-danger')
            // $('#filters a').not('.link-primary').removeAttr('class').addClass('link-secondary')
            if ($('#filters').has('a')) {
                $('#filters a').each((index, value) => {
                    $(value).attr('target', '_blank')
                })
            }

            /*
            * data API
            * */

            // todo : research it

            /*
            * form validation
            * */

            $('#secondForm').on('submit', (element) => {
                element.preventDefault()

                if (!$("#secondForm input[type='radio']").is(':checked')) {
                    alert('please select any gender')
                }

                /*
                * regex
                *
                * todo : make more examples
                *
                * */

                const email_regex = /^[a-zA-Z0-9.! #$%&'*+/=? ^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\. [a-zA-Z0-9-]+)*$/
                const email_field = $("#secondForm input[type='email']")

                if (!email_field.test(email_regex)) {
                    alert('invalid email address!')
                }
            })

            /*
            * event handling
            * on([string-object], [handler]), off, bind, unbind, stopPropagation
            * */




        })
    </script>
</body>
</html>
